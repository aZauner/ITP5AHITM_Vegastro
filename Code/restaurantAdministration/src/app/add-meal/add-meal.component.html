<body>
    <button class="mainBtn" (click)="showCreate()">create new meal</button>
    <button class="mainBtn" (click)="showMeals()">Show Meals</button>

    <form [formGroup]="firstFormGroup" [hidden]="!createMealActive">
        <div class="wrapper">
            <mat-form-field class="example-full-width">
                <mat-label>Titel</mat-label>
                <input formControlName="mealName" matInput placeholder="name" required>
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <mat-label>Beschreibung</mat-label>
                <input formControlName="description" matInput placeholder="Dieses Restaurant ..." required>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Meal Type</mat-label>
                <mat-select required formControlName="type">
                    <mat-option *ngFor="let typ of types" [value]="typ">
                        {{typ}}
                    </mat-option>
                </mat-select>
            </mat-form-field> 
            
            <mat-form-field class="example-full-width">
                <mat-label>Preis</mat-label>
                <input formControlName="price" matInput placeholder="1.70" required>
            </mat-form-field>
        </div>
        <div class="wrapper">
            <div>
                <button class="loginBtn" [disabled]="!firstFormGroup.valid" (click)="create()" mat-stroked-button>Gericht
                    erstellen</button>
    
            </div>
        </div>
    </form>
    
    <div class="mealsBox" [hidden]="!showMealsActive">
        <div *ngFor="let meal of meals;  let i = index" class="meal">
            <form (submit)="submitChanges(title.value)">
                <p>Titel: <input type="text" #title [disabled]="!editValues[i].editable" value="{{meal.title}}"></p>
                <p>Beschreibung: <input type="text" #desc [disabled]="!editValues[i].editable" value="{{meal.description}}"></p>
                <p>Preis: <input type="text" #price [disabled]="!editValues[i].editable" value="{{meal.price}}">â‚¬</p>
                <div class="flex">
                    <p (click)="editMeal(i)">Bearbeiten</p>
                    <button *ngIf="editValues[i].editable" type="submit" >Submit</button>
                </div>
                <p class="activeBtn" *ngIf="meals[i].active" (click)="toggleActive(i)">Deaktivieren</p> 
                <p class="activeBtn" *ngIf="!meals[i].active" (click)="toggleActive(i)">Aktivieren</p>
            </form>                
        </div>
    </div>
</body>